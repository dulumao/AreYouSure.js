(function(){var t,e,i,n,s,a;t=jQuery,s="areyousure",i=function(t,e){return"<a href='#' class='"+s+"-link' data-ays-action='"+e+"'>"+t+"</a>"},a=function(){},n={text:"Are you sure?",confirmText:"Yes",cancelText:"No",sep:" | ",reverse:!1,yes:a,no:a,additional:[]},e=function(){function e(e,a){var o,r;this.element=e,this.element.wrap("<span class='"+s+"'></span>"),this.options=t.extend({},n,a),this.cancelText=i(this.options.cancelText,"cancel"),this.confirmText=i(this.options.confirmText,"confirm"),this.additional=this.options.additional.length>0?function(){var t,e,n,s;for(n=this.options.additional,s=[],t=0,e=n.length;e>t;t++)r=n[t],s.push(i(r));return s}.call(this).join(this.options.sep):"",o=this.options.reverse?""+this.options.text+" "+this.cancelText+this.options.sep+this.confirmText:""+this.options.text+" "+this.confirmText+this.options.sep+this.cancelText,this.confirmElem="<span class='areyousure-dialog' style='display:none' data-ays-dialog> <span class='areyousure-text'>"+o+(this.additional?this.options.sep+this.additional:"")+"</span></span>",this.element.after(this.confirmElem),this.outer=this.element.parent(),this.dialog=this.outer.find("[data-ays-dialog]"),this.init()}return e.prototype.init=function(){var e;return e=this,this.element.on("click",function(t){return t.preventDefault(),e.activate()}),this.outer.on("click","."+s+"-link",function(i){var n;return i.preventDefault(),n="confirm"===t(this).data("ays-action")?"yes":"no",t.when(e.options[n].call(e,i)).then(function(){return e.deactivate()})}),this},e.prototype.activate=function(){return this.dialog.show()&&this.element.hide(),this},e.prototype.deactivate=function(){return this.dialog.hide()&&this.element.show(),this},e}(),t.fn.areyousure=function(i){return this.each(function(){return t.data(this,"plugin_"+s)?void 0:t.data(this,"plugin_"+s,new e(t(this),i))})},e.discover=function(){return t("[data-areyousure]").each(function(){var i;return i=t(this),new e(i,{text:i.data("areyousure")||n.text,confirmText:i.data("confirm")||n.confirmText,cancelText:i.data("cancel")||n.cancelText,reverse:i.data("reversed"),sep:i.data("separator")})})},window.AreYouSure=e,e.auto=!0,t(function(){return e.auto?e.discover():void 0})}).call(this);