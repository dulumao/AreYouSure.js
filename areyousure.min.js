(function(){var t,e,n,i,s,o;t=jQuery,s="areyousure",n=function(t,e){return"<a href='#' class='"+s+"-link' data-ays-action='"+e+"'>"+t+"</a>"},o=function(){},i={text:"Are you sure?",confirmText:"Yes",cancelText:"No",sep:"&nbsp;&nbsp;",reverse:!1,yes:o,no:o},e=function(){function e(e,o){var a;this.element=e,this.element.wrap("<span class='"+s+"'></span>"),this.options=t.extend({},i,o),this.cancelText=n(this.options.cancelText,"cancel"),this.confirmText=n(this.options.confirmText,"confirm"),a=this.options.reverse?""+this.options.text+" "+this.cancelText+this.options.sep+this.confirmText:""+this.options.text+" "+this.confirmText+this.options.sep+this.cancelText,this.confirmElem="<span class='areyousure' style='display:none' data-ays-dialog> <span class='areyousure-text'>"+a+"</span></span>",this.element.after(this.confirmElem),this.outer=this.element.parent(),this.dialog=this.outer.find("[data-ays-dialog]"),this.init()}return e.prototype.init=function(){var e;return e=this,this.element.on("click",function(t){return t.preventDefault(),e.activate()}),this.outer.on("click","."+s+"-link",function(n){var i;return n.preventDefault(),i="confirm"===t(this).data("ays-action")?"yes":"no",t.when(e.options[i].call(e,n)).then(function(){return e.deactivate()})}),this},e.prototype.activate=function(){return this.dialog.show(),this.element.hide(),this},e.prototype.deactivate=function(){return this.dialog.hide(),this.element.show(),this},e}(),t.fn.areyousure=function(n){return this.each(function(){return t.data(this,"plugin_"+s)?void 0:t.data(this,"plugin_"+s,new e(t(this),n))})},e.discover=function(){return t("[data-areyousure]").each(function(){var n;return n=t(this),new e(n,{text:n.data("areyousure")||i.text,confirmText:n.data("confirm")||i.confirmText,cancelText:n.data("cancel")||i.cancelText})})},window.AreYouSure=e,e.auto=!0,t(function(){return e.auto?e.discover():void 0})}).call(this);